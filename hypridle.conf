general {
    lock_cmd = pidof hyprlock || hyprlock       # to avoid start multiple hyprlock instances
    # unlock_cmd = notify-send "unlock!"          # same as above, but to unlock
    before_sleep_cmd = loginctl lock-session    # to lock before suspend
    after_sleep_cmd = hyprctl dispatch dpms on  # to avoid having to press a key twice to turn on the display.
    # ignore_dbus_inhibit = false                 # whether to ignore dbus-sent idle-inhibit requests (used by e.g. firefox or steam)
}

listener {
    timeout = 150                                # 2.5min.
    # on-timeout = pw-cli i all 2>&1 | rg running -q ; [ $? -ne 0 ] && brightnessctl -s set 10 # It doesn't work anymore IDK
    on-timeout = brightnessctl -s set 10         # to set monitor backlight to minimum
    on-resume = brightnessctl -r                 # to restor monitor backlight.
}


listener {
    timeout = 300                               # 5min
    on-timeout = loginctl lock-session          # Lock screen when timeout has passed.
}

listener {
    timeout = 330                                # 5.5min.
    # on-timeout = pw-cli i all 2>&1 | rg running -q ; [ $? -ne 0 ] && hyprctl dispatch dpms off 
    on-timeout = hyprctl dispatch dpms off       # to screen off when timeout has passed
    on-resume = hyprctl dispatch dpms on         # to screen on when activity is detected after timeout has fired
}

listener {
    timeout = 600                                 # 10min
    # on-timeout = pw-cli i all 2>&1 | rg running -q ; [ $? -ne 0 ] && systemctl suspend
    on-timeout = systemctl suspend                # to suspend PC
    on-resume = sleep 3
    # on-resume = sleep 3 && notify-send "Welcome back!"
}
